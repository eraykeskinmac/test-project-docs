---
title: API Overview
description: Complete API reference and documentation
---

# API Reference

Complete reference for all available APIs and methods.

## Core Functions

### createInstance()

Creates a new instance with the specified configuration.

```typescript
function createInstance(config: InstanceConfig): Instance
```

**Parameters:**

| Name | Type | Required | Description |
|------|------|----------|-------------|
| config | `InstanceConfig` | Yes | Configuration object |
| config.apiKey | `string` | Yes | Your API key |
| config.timeout | `number` | No | Request timeout in ms (default: 5000) |
| config.debug | `boolean` | No | Enable debug mode (default: false) |

**Returns:** `Instance` - A new instance object

**Example:**

```typescript
const instance = createInstance({
  apiKey: 'your-api-key',
  timeout: 10000,
  debug: true,
});
```

### connect()

Establishes a connection to the service.

```typescript
async function connect(): Promise<Connection>
```

**Returns:** `Promise<Connection>` - Connection object

**Throws:**
- `ConnectionError` - If connection fails
- `AuthenticationError` - If authentication fails

**Example:**

```typescript
try {
  const connection = await instance.connect();
  console.log('Connected:', connection.id);
} catch (error) {
  console.error('Connection failed:', error);
}
```

## Data Methods

### fetch()

Fetches data from the API.

```typescript
async function fetch<T>(endpoint: string, options?: FetchOptions): Promise<T>
```

**Type Parameters:**

- `T` - The expected return type

**Parameters:**

| Name | Type | Required | Description |
|------|------|----------|-------------|
| endpoint | `string` | Yes | API endpoint path |
| options | `FetchOptions` | No | Request options |
| options.method | `'GET' \| 'POST' \| 'PUT' \| 'DELETE'` | No | HTTP method (default: 'GET') |
| options.headers | `Record<string, string>` | No | Custom headers |
| options.body | `any` | No | Request body |

**Example:**

```typescript
interface User {
  id: string;
  name: string;
  email: string;
}

const user = await instance.fetch<User>('/users/123');
console.log(user.name);
```

### update()

Updates existing data.

```typescript
async function update<T>(id: string, data: Partial<T>): Promise<T>
```

**Example:**

```typescript
const updated = await instance.update('user-123', {
  name: 'New Name',
});
```

## Event Handlers

### on()

Registers an event listener.

```typescript
function on(event: string, handler: EventHandler): void
```

**Available Events:**

- `connect` - Fired when connection is established
- `disconnect` - Fired when connection is lost
- `error` - Fired when an error occurs
- `data` - Fired when data is received

**Example:**

```typescript
instance.on('connect', () => {
  console.log('Connected!');
});

instance.on('error', (error) => {
  console.error('Error:', error);
});
```

## Type Definitions

### InstanceConfig

```typescript
interface InstanceConfig {
  apiKey: string;
  timeout?: number;
  debug?: boolean;
  retries?: number;
  baseUrl?: string;
}
```

### FetchOptions

```typescript
interface FetchOptions {
  method?: 'GET' | 'POST' | 'PUT' | 'DELETE';
  headers?: Record<string, string>;
  body?: any;
  signal?: AbortSignal;
}
```

### Connection

```typescript
interface Connection {
  id: string;
  status: 'connected' | 'disconnected';
  timestamp: Date;
  disconnect(): Promise<void>;
}
```

## Error Handling

All async methods can throw the following errors:

```typescript
class APIError extends Error {
  code: string;
  status: number;
  details?: any;
}

class ConnectionError extends APIError {
  // Thrown when connection fails
}

class AuthenticationError extends APIError {
  // Thrown when authentication fails
}

class ValidationError extends APIError {
  // Thrown when validation fails
}
```

**Example Error Handling:**

```typescript
try {
  await instance.connect();
} catch (error) {
  if (error instanceof AuthenticationError) {
    console.error('Invalid API key');
  } else if (error instanceof ConnectionError) {
    console.error('Cannot connect to server');
  } else {
    console.error('Unknown error:', error);
  }
}
```
